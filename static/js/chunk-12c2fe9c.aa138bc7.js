(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c2fe9c"],{"2a33":function(e,t,n){"use strict";n("f2d2")},"7c61":function(e,t,n){"use strict";n.r(t);n("a9e3");var a=n("7a23"),r=n("2602"),c=n.n(r),s=n("f5be"),o=n.n(s),i=n("ce00"),u=n.n(i),d=Object(a["W"])("data-v-523e8c19");Object(a["F"])("data-v-523e8c19");var l={class:"page-box index-box"},b={class:"swap-box"},m={class:"swap"},p=Object(a["m"])("div",{class:"swap-title flex-between"},[Object(a["m"])("div",{class:"text"},"USDT兑换质押"),Object(a["m"])("span",null,"3.6X")],-1),f={class:"swap-input"},v={class:"title flex-between"},x={class:"text"},O=Object(a["l"])("输入"),j={class:"balance"},h=Object(a["m"])("div",{class:"flex-middle right-box"},[Object(a["m"])("img",{src:c.a,alt:""}),Object(a["m"])("span",null,"USDT")],-1),w=Object(a["m"])("div",{class:"swap-icon"},[Object(a["m"])("img",{src:o.a,alt:""})],-1),g={class:"swap-input"},C=Object(a["m"])("div",{class:"title flex-between"},[Object(a["m"])("div",{class:"text"},"输出 (质押收益)")],-1),k=Object(a["m"])("div",{class:"flex-middle right-box"},[Object(a["m"])("img",{src:u.a,alt:""}),Object(a["m"])("span",null,"ABDX")],-1),A={key:0,class:"intro-box"},y=Object(a["m"])("div",{class:"title"},"填写推荐人",-1),B={class:"flex-middle"},I={class:"btn-box"},R=Object(a["l"])("质押"),D=Object(a["l"])("授权"),U=Object(a["k"])('<div class="rule-box" data-v-523e8c19><div class="title" data-v-523e8c19>质押规则</div><div class="content" data-v-523e8c19> 1、1USDT可以兑换100ABDX，每次最低投入100USDT<br data-v-523e8c19> 2、兑换的ABDX将直接进行质押<br data-v-523e8c19> 3、质押可获取3.6倍的收益，每天千分之二进行释放，500天释放完毕。<br data-v-523e8c19> 4、同样也可以通过推荐下级进行加速释放。<br data-v-523e8c19> 5、质押规则<br data-v-523e8c19> 第一轮：直接投资和兑换投资，ABDX加起来不能大于10W ABDX<br data-v-523e8c19> 第二轮：第一轮出局之后，才能追加投资到20W ABDX<br data-v-523e8c19> 第三轮：第二轮再次出局之后，才能追加投资到40W ABDX <br data-v-523e8c19> 后面轮数，以此类推 </div></div>',1);Object(a["D"])();var M=d((function(e,t,n,r,c,s){var o=Object(a["J"])("HeadTop"),i=Object(a["J"])("van-field"),u=Object(a["J"])("van-button");return Object(a["C"])(),Object(a["h"])("div",l,[Object(a["m"])(o,{title:"USDT兑换质押"}),Object(a["m"])("div",b,[Object(a["m"])("div",m,[p,Object(a["m"])("div",f,[Object(a["m"])("div",v,[Object(a["m"])("div",x,[O,Object(a["m"])("span",{class:"total-stake",onClick:t[1]||(t[1]=function(){return e.getTotalBlance&&e.getTotalBlance.apply(e,arguments)})},"全部质押")]),Object(a["m"])("div",j,"余额: "+Object(a["N"])(e.balance),1)]),Object(a["m"])(i,{modelValue:e.amount,"onUpdate:modelValue":[t[2]||(t[2]=function(t){return e.amount=t}),e.getOutAmount],type:"number",label:"",placeholder:"0.0"},{button:d((function(){return[h]})),_:1},8,["modelValue","onUpdate:modelValue"])]),w,Object(a["m"])("div",g,[C,Object(a["m"])(i,{modelValue:e.abdxAmount,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.abdxAmount=t}),label:"",readonly:"",placeholder:"0.0"},{button:d((function(){return[k]})),_:1},8,["modelValue"])]),e.userInfo.isExist?Object(a["i"])("",!0):(Object(a["C"])(),Object(a["h"])("div",A,[y,Object(a["m"])("div",B,[Object(a["U"])(Object(a["m"])("input",{class:"flex-item intro","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.userInfo.intro=t}),type:"text",placeholder:"请输入推荐人钱包地址"},null,512),[[a["Q"],e.userInfo.intro]])])])),Object(a["m"])("div",I,[Number(e.allowance)>0?(Object(a["C"])(),Object(a["h"])(u,{key:0,type:"primary",loading:e.btn.loading,size:"large","loading-text":"正在质押...",onClick:e.stake},{default:d((function(){return[R]})),_:1},8,["loading","onClick"])):(Object(a["C"])(),Object(a["h"])(u,{key:1,type:"primary",loading:e.btn.loading,size:"large","loading-text":"正在授权...",onClick:e.approve},{default:d((function(){return[D]})),_:1},8,["loading","onClick"]))])])]),U])})),F=n("5530"),N=n("1da1"),T=(n("96cf"),n("b680"),n("90d7"),n("1a2e")),V=n("47e2"),X=n("5502"),E=n("01ea"),S=n("722f"),_=n("440b"),J=n("9d56"),W=n("c00b"),z=n("626a"),H=n("98b3"),L=n("901e"),G=n.n(L),P=n("6c02"),Q=n("2ef0"),$=n.n(Q),q={components:{HeadTop:T["a"]},setup:function(){var e=Object(X["b"])(),t=Object(V["b"])(),n=t.t,r=Object(P["e"])(),c=Object(a["G"])({$t:n,address:Object(a["f"])((function(){return e.state.accounts[0]})),web3:Object(a["f"])((function(){return e.state.provider})),investContract:null,abdxContract:null,usdtContract:null,btn:{loading:!1},userInfo:{intro:H["a"].get()||"",isExist:!0},amount:"",incomeAmount:"",allowance:"0.00",balance:"0.00",rate:"100",staticAmount:"0.00",abdxAmount:"",initContract:function(){c.investContract=new c.web3.eth.Contract(_,E["a"].investAddress),c.abdxContract=new c.web3.eth.Contract(S,E["a"].abdxAddress),c.usdtContract=new c.web3.eth.Contract(S,E["a"].usdtAddress),c.initData()},initData:function(){c.getUserInfo(),c.getRate(),c.getBalance(),c.getAllowance()},getUserInfo:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.investContract.methods.getUserInfo(c.address).call();case 2:return t=e.sent,e.next=5,c.abdxContract.methods.decimals().call();case 5:n=e.sent,c.userInfo.isExist=t.isExist,c.userInfo.investAmmount=new G.a(t.investAmmount).dividedBy(Math.pow(10,n)).toFixed(2),c.userInfo.isExist&&(c.userInfo.intro=t.intro);case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getRate:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.investContract.methods.tokenPrice().call();case 2:t=e.sent,c.rate=new G.a(t).dividedBy(1e4).toFixed();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getAllowance:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.usdtContract.methods.allowance(c.address,E["a"].investAddress).call();case 2:t=e.sent,c.allowance=t;case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.usdtContract.methods.decimals().call();case 2:return t=e.sent,e.next=5,c.usdtContract.methods.balanceOf(c.address).call();case 5:n=e.sent,c.balance=new G.a(n).dividedBy(Math.pow(10,t)).toFixed(6);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getTotalBlance:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.usdtContract.methods.decimals().call();case 2:return t=e.sent,e.next=5,c.usdtContract.methods.balanceOf(c.address).call();case 5:n=e.sent,c.amount=new G.a(n).dividedBy(Math.pow(10,t)).toFixed(Number(t)),c.getOutAmount();case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getOutAmount:$.a.throttle(Object(N["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.amount&&0!=Number(c.amount)){e.next=2;break}return e.abrupt("return","0.00");case 2:return e.next=4,c.usdtContract.methods.decimals().call();case 4:return t=e.sent,n=new G.a(c.amount).multipliedBy(Math.pow(10,t)).toFixed(),e.next=8,c.investContract.methods.getAbdxAmount(n).call();case 8:return a=e.sent,e.next=11,c.abdxContract.methods.decimals().call();case 11:r=e.sent,s=new G.a(a).multipliedBy("3.6").dividedBy(Math.pow(10,r)).toFixed(6),c.abdxAmount=s;case 14:case"end":return e.stop()}}),e)}))),1e3),approve:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.btn.loading=!0,e.prev=1,e.next=4,c.usdtContract.methods.approve(E["a"].investAddress,J["a"]).send({from:c.address});case 4:Object(z["a"])("授权成功"),c.getAllowance(),c.btn.loading=!1,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(z["a"])("授权失败"),c.btn.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),stake:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,n,a,s,o,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.amount){e.next=3;break}return Object(z["a"])("请先输入数量"),e.abrupt("return");case 3:if(!(Number(c.amount)<100&&Number(c.userInfo.investAmmount)<=0)){e.next=6;break}return Object(z["a"])("数量不足100"),e.abrupt("return");case 6:if(!(Number(c.amount)>Number(c.balance))){e.next=9;break}return Object(z["a"])("余额不足"),e.abrupt("return");case 9:if(c.userInfo.isExist||""!=c.userInfo.intro&&c.userInfo.intro!=W["a"]){e.next=12;break}return Object(z["a"])("请先填写推荐人"),e.abrupt("return");case 12:return e.next=14,c.investContract.methods.getUserInfo(c.userInfo.intro).call();case 14:if(t=e.sent,t.isExist){e.next=18;break}return Object(z["a"])("推荐人无效"),e.abrupt("return");case 18:return e.prev=18,e.next=21,c.usdtContract.methods.decimals().call();case 21:return n=e.sent,e.next=24,c.abdxContract.methods.decimals().call();case 24:return a=e.sent,s=new G.a(c.amount).multipliedBy(Math.pow(10,n)).toFixed(),e.next=28,c.investContract.methods.userLimit(c.address).call();case 28:return o=e.sent,i=new G.a(o).dividedBy(Math.pow(10,a)).toFixed(),i=Number(i)>0?i:1e5,e.next=33,c.investContract.methods.getAbdxAmount(s).call();case 33:return u=e.sent,new G.a(u).dividedBy(Math.pow(10,a)).toFixed(2),Math.log2(i>1e5?parseInt(i/1e5):1)+1,c.btn.loading=!0,e.next=39,c.investContract.methods.swapByUsdt(s,c.userInfo.intro).send({from:c.address});case 39:Object(z["a"])("兑换成功"),c.initData(),c.btn.loading=!1,r.push({name:"RecordInvest"}),e.next=49;break;case 45:e.prev=45,e.t0=e["catch"](18),Object(z["a"])("兑换失败"),c.btn.loading=!1;case 49:case"end":return e.stop()}}),e,null,[[18,45]])})));function t(){return e.apply(this,arguments)}return t}()});c.address&&c.initContract(),Object(a["S"])((function(){return c.address}),(function(e){e&&c.initContract()}));var s=Object(a["O"])(c);return Object(F["a"])({},s)}};n("2a33");q.render=M,q.__scopeId="data-v-523e8c19";t["default"]=q},"90d7":function(e,t,n){var a=n("23e7"),r=Math.log,c=Math.LN2;a({target:"Math",stat:!0},{log2:function(e){return r(e)/c}})},c00b:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="0x0000000000000000000000000000000000000000"},f2d2:function(e,t,n){}}]);
//# sourceMappingURL=chunk-12c2fe9c.aa138bc7.js.map