(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02016bec"],{"141a":function(e,t,n){"use strict";n("c068")},3379:function(e,t,n){"use strict";n("fa96")},"38d5":function(e,t,n){},"85d2":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a=Object(c["W"])("data-v-b7931f8a");Object(c["F"])("data-v-b7931f8a");var i={class:"invest"},r={class:"tab-wrap"},o={key:0,class:"tip"},s=Object(c["l"])("已领取："),d={style:{color:"#F01C00"}},l={class:"btn-box"};Object(c["D"])();var u=a((function(e,t,n,u,b,f){var O=Object(c["J"])("HeadTop"),h=Object(c["J"])("van-tab"),j=Object(c["J"])("van-tabs"),m=Object(c["J"])("van-sticky"),g=Object(c["J"])("List"),p=Object(c["J"])("van-list"),v=Object(c["J"])("van-pull-refresh"),A=Object(c["J"])("van-button");return Object(c["C"])(),Object(c["h"])("div",{class:["page-box invest-box",{active:"0"===e.cid}]},[Object(c["m"])(O,{title:"奖金记录"}),Object(c["m"])("div",i,[Object(c["m"])("div",r,[Object(c["m"])(m,{"offset-top":46,onChange:e.changeHandle,style:{"margin-bottom":"12px"}},{default:a((function(){return[Object(c["m"])(j,{active:e.cid,"onUpdate:active":t[1]||(t[1]=function(t){return e.cid=t}),type:"card",onChange:e.tabHandle},{default:a((function(){return[Object(c["m"])(h,{name:"0",title:"待领取"}),Object(c["m"])(h,{name:"1",title:"已领取"})]})),_:1},8,["active","onChange"])]})),_:1},8,["onChange"])]),Object(c["m"])("div",{class:"list-wrap",style:{paddingBottom:"0"==e.cid?"30px":"0"}},["1"==e.cid?(Object(c["C"])(),Object(c["h"])("div",o,[s,Object(c["m"])("span",d,Object(c["N"])(e.haveBack)+" ABDX",1)])):Object(c["i"])("",!0),Object(c["m"])(v,{modelValue:e.refreshing,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.refreshing=t}),onRefresh:e.onRefresh},{default:a((function(){return[Object(c["m"])(p,{loading:e.loading,"onUpdate:loading":t[2]||(t[2]=function(t){return e.loading=t}),"immediate-check":!1,error:e.error,"onUpdate:error":t[3]||(t[3]=function(t){return e.error=t}),"error-text":"请求失败，点击重新加载",finished:e.finished,"finished-text":"没有更多了",onLoad:e.onLoad},{default:a((function(){return[Object(c["m"])(g,{list:e.list,cid:e.cid,onWithdrawCheck:e.withdrawCheck},null,8,["list","cid","onWithdrawCheck"])]})),_:1},8,["loading","error","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"])],4)]),Object(c["m"])("div",l,[Object(c["m"])(A,{onClick:e.withdraw,loading:e.btn.loading,"loading-text":"领取中...",type:"primary",size:"large"},{default:a((function(){return[Object(c["l"])(Object(c["N"])(e.btn.text),1)]})),_:1},8,["onClick","loading"])])],2)})),b=n("5530"),f=n("2909"),O=n("1da1"),h=(n("96cf"),n("ac1f"),n("5319"),n("b680"),n("1a2e")),j=n("901e"),m=n.n(j),g=n("6c02"),p=(n("a9e3"),Object(c["W"])("data-v-6a9c7ae0"));Object(c["F"])("data-v-6a9c7ae0");var v={class:"li title"},A=Object(c["m"])("div",{class:"title"},[Object(c["m"])("div",{class:"left"}," 推荐分享奖励 "),Object(c["m"])("div",{class:"right",style:{color:"#F01C00"}},"未领取")],-1),w={class:"li"},k={class:"value"},C=Object(c["m"])("span",{class:"key"},"质押地址：",-1),x={class:"li"},R={class:"value"},y=Object(c["m"])("span",{class:"key"},"分红数量(ABDX)：",-1),E={class:"li"},I={class:"value"},X=Object(c["m"])("span",{class:"key"},"待领取数量(ABDX)：",-1),D={class:"li"},B={class:"value"},U=Object(c["m"])("span",{class:"key"},"已领取数量(ABDX)：",-1),V={class:"li"},M={class:"value"},H=Object(c["m"])("span",{class:"key"},"质押时间：",-1),F={class:"li"},J={class:"value theme-color"},N=Object(c["m"])("span",{class:"key"},"奖励数量 (ABDX)：",-1),T=Object(c["m"])("div",{class:"right",style:{color:"#00A37B"}},"已领取",-1),L={class:"li"},S={class:"value"},W=Object(c["m"])("span",{class:"key"},"奖励时间：",-1);Object(c["D"])();var Q=p((function(e,t,n,a,i,r){var o=Object(c["J"])("van-checkbox"),s=Object(c["J"])("van-checkbox-group");return Object(c["C"])(),Object(c["h"])(c["a"],null,["0"==n.cid?(Object(c["C"])(),Object(c["h"])(s,{key:0,modelValue:e.checked,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.checked=t}),onChange:e.checkBoxHandle},{default:p((function(){return[(Object(c["C"])(!0),Object(c["h"])(c["a"],null,Object(c["I"])(n.list,(function(n,a){return Object(c["C"])(),Object(c["h"])("div",{class:"ul",key:n.index,onClick:function(t){return e.toggle(a)}},[Object(c["m"])("div",v,[Object(c["m"])(o,{name:n.rewordIndex,ref:function(t){return e.checkboxRefs[a]=t},onClick:t[1]||(t[1]=Object(c["V"])((function(){}),["stop"]))},{icon:p((function(t){return[Object(c["m"])("img",{class:"img-icon",src:t.checked?e.activeIcon:e.inactiveIcon},null,8,["src"])]})),default:p((function(){return[A]})),_:2},1032,["name"])]),Object(c["m"])("div",w,[Object(c["m"])("div",k,[C,Object(c["l"])(Object(c["N"])(n.user),1)])]),Object(c["m"])("div",x,[Object(c["m"])("div",R,[y,Object(c["l"])(Object(c["N"])(Number(n.rewardAmount/Math.pow(10,e.tokenDecimls)).toFixed(6)),1)])]),Object(c["m"])("div",E,[Object(c["m"])("div",I,[X,Object(c["l"])(Object(c["N"])(Number(n.canTake/Math.pow(10,e.tokenDecimls)).toFixed(6)),1)])]),Object(c["m"])("div",D,[Object(c["m"])("div",B,[U,Object(c["l"])(Object(c["N"])(Number(n.haveTake/Math.pow(10,e.tokenDecimls)).toFixed(6)),1)])]),Object(c["m"])("div",V,[Object(c["m"])("div",M,[H,Object(c["l"])(Object(c["N"])(e.$dateformat(1e3*n.startTime,"yyyy-mm-dd HH:MM:ss")),1)])])],8,["onClick"])})),128))]})),_:1},8,["modelValue","onChange"])):Object(c["i"])("",!0),"1"===n.cid?(Object(c["C"])(!0),Object(c["h"])(c["a"],{key:1},Object(c["I"])(n.list,(function(t){return Object(c["C"])(),Object(c["h"])("div",{class:"ul done",key:t.id},[Object(c["m"])("div",F,[Object(c["m"])("div",J,[N,Object(c["l"])(Object(c["N"])(Number(t.amount/Math.pow(10,e.tokenDecimls)).toFixed(6)),1)]),T]),Object(c["m"])("div",L,[Object(c["m"])("div",S,[W,Object(c["l"])(Object(c["N"])(e.$dateformat(1e3*t.time,"yyyy-mm-dd HH:MM:ss")),1)])])])})),128)):Object(c["i"])("",!0)],64)})),Y=n("47e2"),G=n("01ea"),q=n("722f"),K=n("440b"),P=n("5502"),Z={props:{list:{type:Array,default:function(){return[]}},cid:{type:String,default:"0"}},setup:function(e,t){var a=t.emit,i=(Object(g["d"])(),Object(P["b"])()),r=Object(Y["b"])(),o=r.t,s=Object(c["G"])({$t:o,web3:Object(c["f"])((function(){return i.state.provider})),address:Object(c["f"])((function(){return i.state.accounts[0]})),abdxContract:null,investContract:null,tokenDecimls:Math.pow(10,18),activeIcon:n("eb1a"),inactiveIcon:n("9bcc"),list:[],checkboxRefs:[],checked:[],toggle:function(e){s.checkboxRefs[e].toggle()},initContract:function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.investContract=new s.web3.eth.Contract(K,G["a"].investAddress),s.abdxContract=new s.web3.eth.Contract(q,G["a"].abdxAddress),t.next=4,s.abdxContract.methods.decimals().call();case 4:s.tokenDecimls=t.sent,s.list=e.list;case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),checkBoxHandle:function(){a("withdrawCheck",s.checked)}});s.address&&s.initContract(),Object(c["S"])((function(){return s.address}),(function(e){e&&s.initContract()}));var d=Object(c["O"])(s);return Object(b["a"])({},d)}};n("cd08"),n("cb4d");Z.render=Q,Z.__scopeId="data-v-6a9c7ae0";var _=Z,z=n("365c"),$=n("626a"),ee={components:{HeadTop:h["a"],List:_},setup:function(){var e=Object(P["b"])(),t=Object(g["e"])(),n=Object(g["d"])(),a=Object(Y["b"])(),i=a.t,r=Object(c["G"])({$t:i,address:Object(c["f"])((function(){return e.state.accounts[0]})),web3:Object(c["f"])((function(){return e.state.provider})),investContract:null,abdxContract:null,tokenDecimls:Math.pow(10,18),haveBack:0,isFixed:!1,list:[],page:1,limit:10,loading:!1,error:!1,finished:!1,refreshing:!1,checked:[],btn:{text:"快速领取",loading:!1},cid:n.query.cid||"0",tabHandle:function(e){t.replace({name:"RecordBonus",query:{cid:e}})},initContract:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.investContract=new r.web3.eth.Contract(K,G["a"].investAddress),r.abdxContract=new r.web3.eth.Contract(q,G["a"].abdxAddress),e.next=4,r.abdxContract.methods.decimals().call();case 4:r.tokenDecimls=e.sent,r.initData();case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),initData:function(){r.page=1,r.getUserInfo(),"0"===r.cid?r.getIntroLog():r.getWithdrawLog()},getUserInfo:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.investContract.methods.getUserInfo(r.address).call();case 2:return t=e.sent,e.next=5,r.abdxContract.methods.decimals().call();case 5:n=e.sent,r.haveBack=new m.a(t.haveBack).dividedBy(Math.pow(10,n)).toFixed(6);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getWithdrawLog:function(){Object(z["d"])({address:r.address,page:r.page,limit:r.limit}).then((function(e){var t;(r.refreshing&&(r.list=[],r.refreshing=!1),1===r.page)?(r.list=[],r.list=e.data.list):(t=r.list).push.apply(t,Object(f["a"])(e.data.list));r.loading=!1,r.finished=!(Math.ceil(e.data.total/r.limit)>r.page)})).catch((function(){r.error=!0}))},getIntroLog:function(){Object(z["a"])({address:r.address,page:r.page,limit:r.limit}).then(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.refreshing&&(r.list=[],r.refreshing=!1),n=0;case 2:if(!(n<t.data.list.length)){e.next=9;break}return e.next=5,r.investContract.methods.getCanGetIntroAmount(t.data.list[n].rewordIndex).call({from:r.address});case 5:t.data.list[n].canTake=e.sent;case 6:n++,e.next=2;break;case 9:1===r.page?r.list=t.data.list:(c=r.list).push.apply(c,Object(f["a"])(t.data.list)),r.loading=!1,r.finished=!(Math.ceil(t.data.total/r.limit)>r.page);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){r.error=!0}))},changeHandle:function(e){r.isFixed=e},onLoad:function(){r.page++,"0"===r.cid?r.getIntroLog():r.getWithdrawLog()},onRefresh:function(){r.finished=!1,r.loading=!0,r.page=1,"0"===r.cid?r.getIntroLog():r.getWithdrawLog()},withdrawCheck:function(e){r.checked=e},withdraw:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.btn.loading=!0,t=Object(f["a"])(r.checked),e.prev=2,e.next=5,r.investContract.methods.withdrawIntroRewardAll(t).send({from:r.address});case 5:Object($["a"])("领取成功"),r.btn.loading=!1,r.initData(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),r.btn.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}()});r.address&&r.initContract(),Object(g["c"])((function(e,t){r.cid=e.query.cid||"0",r.page=1,r.list=[],r.loading=!1,r.error=!1,r.finished=!1,r.refreshing=!1,"0"===r.cid?r.getIntroLog():r.getWithdrawLog()})),Object(c["S"])((function(){return r.address}),(function(e){e&&r.initContract()}));var o=Object(c["O"])(r);return Object(b["a"])({},o)}};n("3379"),n("141a");ee.render=u,ee.__scopeId="data-v-b7931f8a";t["default"]=ee},"9bcc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAAAVFBMVEUAAAAREREQEBAAAAARERERERERERESEhIQEBARERERERESEhIRERERERERERENDQ0REREQEBATExMSEhIREREREREUFBQRERESEhIREREPDw8RERFvr9ybAAAAG3RSTlMAcU0E+u3PDV6o8+nf1i0Tw6o1n4eEJyWgxTOoa1DQAAAA+0lEQVQ4y42U1w7CMAxF7ex0D0bh/v9/IgpCNWob35dK0WmmfUik4zF453wYuaODRG6xSctxB7LsgXpJU29tP6WlBjzbf+oegIfZDFvzAMJdUqZCY+gvpkElBpPDGHd2O8KlzW8OV9rNFe43363ChQ5yQXX7bjYg02EywudgjCYeY7EBr18PQycx8HGdbKDTDOt0Lcw5ZtASdajtOWZrdMRYqJAZTBmphCVkCphK2IRAHn0J6+HJwZYwC6fElIsqj6C9EMasuF7lY+meXllIyrLUFbmyZXQNqGtnIYe8J4cMl/SqkeIapLgGIS6hwTk93xp8plloUCtVpaJfszATJkSrWkwAAAAASUVORK5CYII="},c068:function(e,t,n){},cb4d:function(e,t,n){"use strict";n("d344")},cd08:function(e,t,n){"use strict";n("38d5")},d344:function(e,t,n){},eb1a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAAAZlBMVEUAAAAdXu8dUv8dXu4dXe4dXu4dXe4dXu0eWeweXe8dXe4dXu4dXu4dXe4dXu0eXu0dXu4cXu4dXe8dXe8cX+4aW/IdXu4dXe4dXu8dX+4cXfAeXu4dXe0dXe8eXe4iZu4dXe0dXu7B47vwAAAAIXRSTlMATQT68u3PJw1v1saooHHp34VfNC0T3MGqRT+ac1yZD0cO88+CAAABSUlEQVQ4y42U6baDIAyEoyx1Reveats77/+Sd0ODVHv4fuhBA2RCGNrRpZNWQig9pR2dkJgMDplJDoLiVAFV2bR9HPdtU1aASmM/6qKBPIqdaVEO6Ms+KpKoI39qVEPuPj4EpuQg2wni4UwTuNIhV4htvYvkqPc4ebHJahR0SgH9LyxFnZyHJTXSv7eCI+f+HIQYnjcncajfVQxyrt4Iy8gVG2F+nhkvdpfYkHdeLiPqUMWsmNkUUlyhoxQlWXK4cC4lDBVo7OgGj1VHg4I0Wjua4THbHy00KfR2NMBjsD96KBJYFQh4iFUDhBMmP4XxptmnTVlCCY+SJTgF+fpUEBNU3sDDCj16WtxGyrcd3UZa3tryNg9CZrPXlmFNHnhlwi5g8HVmcyiOzKFgcwi0GjaucW9cIxtXsA0yr2VvqsuLTujMatFmb9Hfkpg2XIGdj+YAAAAASUVORK5CYII="},fa96:function(e,t,n){}}]);
//# sourceMappingURL=chunk-02016bec.b1568796.js.map